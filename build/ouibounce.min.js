!function(e,n){"function"==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n(require,exports,module):e.ouibounce=n()}(this,function(e,n,i){return function(e,n){"use strict";function i(e,n){return"undefined"==typeof e?n:e}function t(e){var n=24*e*60*60*1e3,i=new Date;return i.setTime(i.getTime()+n),"; expires="+i.toUTCString()}function o(){s()||(L.addEventListener("mouseleave",r),L.addEventListener("mouseenter",u),L.addEventListener("keydown",c))}function r(e){m(e)||(D=setTimeout(f,w))}function u(){D&&(clearTimeout(D),D=null)}function c(e){N||e.metaKey&&76===e.keyCode&&(N=!0,D=setTimeout(f,w))}function d(e,n){return a()[e]===n}function a(){for(var e=document.cookie.split("; "),n={},i=e.length-1;i>=0;i--){var t=e[i].split("=");n[t[0]]=t[1]}return n}function s(){return d(x,"true")&&!k}function f(){s()||(e&&(e.style.display="block"),g(),l())}function m(e){if(!y)return e.clientY>p;var n=window.innerHeight||L.clientHeight,i=window.innerWidth||L.clientWidth,t=e.clientX,o=e.clientY;return!(p>o||o>n-p||t>i-p||p>t)}function l(e){var n=e||{};"undefined"!=typeof n.cookieExpire&&(h=t(n.cookieExpire)),n.sitewide===!0&&(T=";path=/"),"undefined"!=typeof n.cookieDomain&&(b=";domain="+n.cookieDomain),"undefined"!=typeof n.cookieName&&(x=n.cookieName),document.cookie=x+"=true"+h+b+T,L.removeEventListener("mouseleave",r),L.removeEventListener("mouseenter",u),L.removeEventListener("keydown",c)}var v=n||{},k=v.aggressive||!1,p=i(v.sensitivity,20),y=v.detectEdges||!1,E=i(v.timer,1e3),w=i(v.delay,0),g=v.callback||function(){},h=t(v.cookieExpire)||"",b=v.cookieDomain?";domain="+v.cookieDomain:"",x=v.cookieName?v.cookieName:"viewedOuibounceModal",T=v.sitewide===!0?";path=/":"",D=null,L=document.documentElement;setTimeout(o,E);var N=!1;return{fire:f,disable:l,isDisabled:s}}});